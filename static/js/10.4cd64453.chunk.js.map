{"version":3,"sources":["components/ContainerScroller.js","localServer/normalizers/normalizeAnime.js","localServer/helpers/isObject.js","localServer/helpers/isLocaleStringObject.js","localServer/helpers/getLocaleString.js","localServer/helpers/notObjectNotArray.js","localServer/helpers/formatDataToLocalStrings.js","components/AnimeBox.js","helpers/hexToRgb.js","components/WideSlide.js","sections/SliderSection/CarouselCustomProvider.js","localServer/localDatabase/sliderData.js","localServer/getters/fetchSlides.js","sections/SliderSection/SliderSection.js","localServer/getters/getPopularAnimes.js","components/PopularAnimes.js","pages/HomePage.js","layouts/HomeLayout.js"],"names":["ContainerScroller","children","rest","containerRef","useRef","scrollerRef","useState","containerOffset","setContainerOffset","containerWidth","setContainerWidth","pinned","setPinned","handleScrollerScroll","elem","current","scrollWidth","offsetWidth","scrollLeft","updateContainerOffset","offsetLeft","scrollContainer","backwards","timeout","direction","offset","anchor","step","scrollToAnchor","oldScrollLeft","clearTimeout","setTimeout","Math","abs","useEffect","window","addEventListener","removeEventListener","className","ref","inheritPropClassName","style","minWidth","minHeight","includes","concatClassModifiers","width","onClick","icon","size","normalizeAnime","anime","lang","i18next","language","formatDataToLocalStrings","isObject","A","isLocaleStringObject","value","kk","en","ru","getLocaleString","object","str","Object","keys","notObjectNotArray","Array","isArray","map","f","newObject","forEach","key","field","AnimeBox","to","id","backgroundImage","poster","name","hexToRgb","hex","result","exec","r","parseInt","g","b","WideSlide","slide","visible","t","useTranslation","showVideo","setShowVideo","overlayColor","color","slideDelay","setSlideDelay","nextButtonRef","delay","setDelay","instance","handleOnClick","shadowStyle","useMemo","rgb","rgbFormat","background","dotsStyle","animationDuration","data-color","video","onCanPlay","e","duration","currentTarget","onEnded","src","autoPlay","muted","playsInline","img","alt","logo","title","description","ButtonToolbar","Button","componentClass","Link","animeId","Icon","CarouselCustomProvider","carouselContext","useContext","CarouselContext","state","carouselState","setCarouselState","onChange","subscribe","unsubscribe","Children","normalizeSliderData","getAnimeById","logoImage","shortInfo","backgroundVideo","fetchSlides","slides","sliderData","SliderSection","visibleSlides","totalSlides","length","naturalSlideWidth","naturalSlideHeight","infinite","dragEnabled","disableAnimation","currentSlide","index","getPopularAnimes","animes","PopularAnimes","props","popularAnimes","setPopularAnimes","HomePage","HomeLayout","stickyTransparent","useLayoutClass"],"mappings":"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","file":"static/js/10.4cd64453.chunk.js","sourcesContent":["import React, { useEffect, useRef, useState } from 'react'\nimport inheritPropClassName from '../helpers/inheritPropClassName.js'\nimport { Icon } from 'rsuite'\nimport concatClassModifiers from '../helpers/concatClassModifiers.js'\n\nfunction ContainerScroller({ children, ...rest}) {\n  const containerRef = useRef()\n  const scrollerRef = useRef()\n  const [containerOffset, setContainerOffset] = useState(0)\n  const [containerWidth, setContainerWidth] = useState(0)\n  const [pinned, setPinned] = useState('none')\n\n  useEffect(() => {\n    updateContainerOffset()\n    window.addEventListener('resize', updateContainerOffset)\n    window.addEventListener('resize', handleScrollerScroll)\n    return () => {\n      window.removeEventListener('resize', updateContainerOffset)\n      window.removeEventListener('resize', handleScrollerScroll)\n    }\n  }, [containerRef])\n\n  useEffect(() => {\n    const elem = scrollerRef.current\n    setTimeout(() => {\n      handleScrollerScroll()\n    }, 100)\n    if (elem) {\n      elem.addEventListener('scroll', handleScrollerScroll)\n    }\n    return () => {\n      if (elem) {\n        elem.removeEventListener('scroll', handleScrollerScroll)\n      }\n    }\n  }, [scrollerRef])\n\n  function handleScrollerScroll() {\n    const elem = scrollerRef.current\n    if (elem) {\n      if (elem.scrollWidth - elem.offsetWidth === 0) {\n        setPinned('both')\n      }\n      else if (elem.scrollLeft === 0) {\n        setPinned('left')\n      } else if (elem.scrollLeft >= elem.scrollWidth - elem.offsetWidth) {\n        setPinned('right')\n      } else {\n        setPinned('nonee')\n      }\n    }\n  }\n\n  function updateContainerOffset() {\n    const elem = containerRef.current\n    if (elem) {\n      setContainerOffset(elem.offsetLeft)\n      setContainerWidth(elem.offsetWidth)\n    }\n  }\n\n  function scrollContainer(backwards) {\n    let timeout\n    return () => {\n      const elem = scrollerRef.current\n      if (elem) {\n        const direction = (-1 + (1 * !!backwards) * 2)\n        let offset = direction * containerWidth\n        offset -= (offset % containerOffset)\n        const anchor = (elem.scrollLeft + offset)\n        const delay = 10\n        const step = (direction * containerWidth) / (delay)\n        function scrollToAnchor(oldScrollLeft) {\n          clearTimeout(timeout)\n          timeout = setTimeout(() => {\n            if (Math.abs(elem.scrollLeft - anchor) > Math.abs(step)) {\n              elem.scrollLeft += step\n              if (elem.scrollLeft !== oldScrollLeft) {\n                scrollToAnchor(elem.scrollLeft)\n              }\n            } else {\n              elem.scrollLeft = anchor\n            }\n          }, delay)\n        }\n        scrollToAnchor()\n      }\n    }\n  }\n\n  return (\n    <div className='container_scroller__wrapper'>\n      <div className='container' ref={containerRef}/>\n      <div className={inheritPropClassName(rest, 'container_scroller')} ref={scrollerRef}>\n        <div style={{minWidth: containerOffset, minHeight: 1}} />\n        {children}\n        <div style={{minWidth: containerOffset, minHeight: 1}} />\n      </div>\n      {!['left', 'both'].includes(pinned) && (\n        <button className={concatClassModifiers('container_scroller__button', 'left')} style={{width: containerOffset, minHeight: 1}} onClick={scrollContainer()}>\n          <Icon icon='angle-left' size='3x' />\n        </button>\n      )}\n      {!['right', 'both'].includes(pinned) && (\n        <button className={concatClassModifiers('container_scroller__button', 'right')} style={{width: containerOffset, minHeight: 1}} onClick={scrollContainer(true)}>\n          <Icon icon='angle-right' size='3x' />\n        </button>\n      )}\n    </div>\n  )\n}\n\nexport default ContainerScroller\n","import formatDataToLocalStrings from '../helpers/formatDataToLocalStrings.js'\nimport i18next from 'i18next'\n\nfunction normalizeAnime(anime) {\n  const lang = i18next.language\n  return formatDataToLocalStrings(anime, lang)\n}\n\nexport default normalizeAnime\n","function isObject(A) {\n  return  (typeof A === \"object\" || typeof A === 'function') && (A !== null)\n}\n\nexport default isObject\n","import isObject from './isObject.js'\n\nfunction isLocaleStringObject(value) {\n  return isObject(value) && (value.kk || value.en || value.ru)\n}\n\nexport default isLocaleStringObject\n","function getLocaleString(object, lang = 'ru') {\n  const str = object[lang]\n  if (str) {\n    return str\n  }\n  return object[Object.keys(object)[0]]\n}\n\nexport default getLocaleString\n","import isObject from './isObject.js'\n\nfunction notObjectNotArray(value) {\n  return !isObject(value) && !Array.isArray(value)\n}\n\nexport default notObjectNotArray\n","import isLocaleStringObject from './isLocaleStringObject.js'\nimport getLocaleString from './getLocaleString.js'\nimport isObject from './isObject.js'\nimport notObjectNotArray from './notObjectNotArray.js'\n\nfunction formatDataToLocalStrings(object, lang = 'ru') {\n  if (notObjectNotArray(object)) {\n    return object\n  }\n  if (Array.isArray(object)) {\n    return object.map((f) => formatDataToLocalStrings(f, lang))\n  }\n  const newObject = {...object}\n  Object.keys(object).forEach((key) => {\n    const field = object[key]\n    if (isLocaleStringObject(field)) {\n      newObject[key] = getLocaleString(field, lang)\n    } else if (isObject(field) || Array.isArray(field)) {\n      newObject[key] = formatDataToLocalStrings(field, lang)\n    } else {\n      newObject[key] = field\n    }\n  })\n  return newObject\n}\n\nexport default formatDataToLocalStrings\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nfunction AnimeBox({ anime }) {\n  return (\n    <Link className='anime_box' to={'/anime/' + anime.id}>\n      <div className='anime_box__image' style={{backgroundImage: `url(${anime.poster})`}} />\n      <div className='anime_box__heading'>\n        {anime.name}\n      </div>\n    </Link>\n  )\n}\n\nexport default AnimeBox\n","function hexToRgb(hex) {\n  const result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n  return result ? {\n    r: parseInt(result[1], 16),\n    g: parseInt(result[2], 16),\n    b: parseInt(result[3], 16)\n  } : null;\n}\n\nexport default hexToRgb\n","import React, { useEffect, useMemo, useRef, useState } from 'react'\nimport concatClassModifiers from '../helpers/concatClassModifiers.js'\nimport hexToRgb from '../helpers/hexToRgb.js'\nimport { ButtonNext, DotGroup } from 'pure-react-carousel'\nimport { Button, ButtonToolbar, Icon } from 'rsuite'\nimport { Link } from 'react-router-dom'\nimport { useTranslation } from 'react-i18next'\n\nfunction WideSlide({ slide, visible }) {\n  const { t } = useTranslation()\n  const [showVideo, setShowVideo] = useState(false)\n  const overlayColor = slide.color || '#a02f27'\n  const [slideDelay, setSlideDelay] = useState(10)\n  const nextButtonRef = useRef(null)\n  const [delay, setDelay] = useState(0)\n\n  function handleVideoLoad(e) {\n    const duration = e.currentTarget.duration\n    setTimeout(() => {\n      setSlideDelay(duration + 3)\n      setShowVideo(true)\n    }, 300)\n  }\n  function handleVideoEnded() {\n    setShowVideo(false)\n  }\n\n  useEffect(() => {\n    setShowVideo(false)\n  }, [visible])\n\n  useEffect(() => {\n    clearTimeout(delay)\n    if (visible) {\n      setDelay(setTimeout(() => {\n        if (nextButtonRef.current) {\n          nextButtonRef.current.instance.handleOnClick()\n        }\n      }, slideDelay * 1000))\n    }\n    return () => {\n      clearTimeout(delay)\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [slideDelay, visible])\n\n  const shadowStyle = useMemo(() => {\n    const rgb = hexToRgb(overlayColor)\n    const rgbFormat = `${rgb.r}, ${rgb.g}, ${rgb.b}`\n    return {\n      background: `linear-gradient(93deg, rgba(${rgbFormat}, 1) 0%, rgba(${rgbFormat}, .7) 440px, rgba(${rgbFormat}, 0) 100%)`,\n    }\n  }, [overlayColor])\n\n  const dotsStyle = useMemo(() => {\n    return {\n      animationDuration: slideDelay + 's'\n    }\n  }, [slideDelay])\n\n\n  return (\n    <div className={concatClassModifiers('wide_slide', 'use_shadow', (showVideo && 'show_video'))} data-color='#ff0000'>\n      {slide.video && visible && (\n        <div className=\"wide_slide__video\">\n          <video\n            onCanPlay={handleVideoLoad}\n            onEnded={handleVideoEnded}\n            src={slide.video}\n            autoPlay={visible}\n            muted\n            playsInline\n          />\n        </div>\n      )}\n      <div className=\"wide_slide__poster\">\n        <img src={slide.img} alt=\"\"/>\n      </div>\n      <div className=\"wide_slide__gradient_overlay\" style={shadowStyle}/>\n      <div className=\"container wide_slide__container\">\n        <div className=\"wide_slide__content\">\n          <div className=\"wide_slide__heading\">\n            {slide.logo ? (\n              <div className='wide_slide__logo'>\n                <img src={slide.logo} alt={slide.title} />\n              </div>\n            ) : (\n              <h2>{slide.title}</h2>\n            )}\n          </div>\n          <div className=\"wide_slide__info\">\n            {slide.description}\n          </div>\n        </div>\n        <div className=\"d-flex wide_slide__buttons mt-4\">\n          <ButtonToolbar>\n            <Button componentClass={Link} to={'/anime/' + slide.animeId} color='red' size='lg'><Icon icon='play' className='mr-2'/> {t('watch')}</Button>\n            <ButtonNext ref={nextButtonRef} className='rs-btn rs-btn-subtle rs-btn-lg rs-btn-default rs-btn-icon'><Icon icon='fast-forward'/></ButtonNext>\n          </ButtonToolbar>\n        </div>\n        <DotGroup className='wide_slide__dot_group mt-4' style={dotsStyle} />\n      </div>\n    </div>\n  )\n}\n\nexport default WideSlide\n","import React, { useContext, useEffect, useState } from 'react'\nimport { CarouselContext } from 'pure-react-carousel'\n\nfunction CarouselCustomProvider({ children }) {\n  const carouselContext = useContext(CarouselContext);\n  const [carouselState, setCarouselState] = useState({...carouselContext.state});\n  useEffect(() => {\n    function onChange() {\n      setCarouselState({...carouselContext.state});\n    }\n    carouselContext.subscribe(onChange);\n    return () => carouselContext.unsubscribe(onChange);\n  }, [carouselContext]);\n  const Children = children\n\n\n  return <Children {...carouselState} />\n}\n\nexport default CarouselCustomProvider\n","import { getAnimeById } from './animes.js'\n\nconst sliderData = [\n  {\n    animeId: '1',\n    color: '#6573d0',\n  },\n  {\n    animeId: '2',\n  },\n  {\n    animeId: '3',\n    color: '#878787'\n  },\n]\n\nfunction normalizeSliderData(array) {\n  return array.map((slide) => {\n    const anime = getAnimeById(slide.animeId)\n    return {\n      logo: anime.logoImage,\n      title: anime.name,\n      description: anime.shortInfo,\n      img: anime.backgroundImage,\n      video: anime.backgroundVideo,\n      ...slide,\n    }\n  })\n}\n\nexport default normalizeSliderData(sliderData)\n","import sliderData from '../localDatabase/sliderData.js'\nimport formatDataToLocalStrings from '../helpers/formatDataToLocalStrings.js'\nimport i18next from 'i18next'\n\nfunction fetchSlides() {\n  const lang = i18next.language\n  return sliderData.map((slide) => formatDataToLocalStrings(slide, lang))\n}\n\nexport default fetchSlides\n","import React from 'react'\nimport { CarouselProvider, Slide, Slider, } from 'pure-react-carousel'\nimport 'pure-react-carousel/dist/react-carousel.es.css'\nimport WideSlide from '../../components/WideSlide.js'\nimport CarouselCustomProvider from './CarouselCustomProvider.js'\nimport fetchSlides from '../../localServer/getters/fetchSlides.js'\n\nconst slides = fetchSlides()\n\nfunction SliderSection() {\n  return (\n    <div className='slider_section'>\n      <CarouselProvider\n        visibleSlides={1}\n        totalSlides={slides.length}\n        step={1}\n        naturalSlideWidth={300}\n        naturalSlideHeight={200}\n        infinite\n        dragEnabled={false}\n        disableAnimation\n      >\n        <CarouselCustomProvider>\n          { ({ currentSlide }) => (\n            <Slider className='slider'>\n              {slides.map((slide, index) => (\n                <Slide index={index} key={index}>\n                  <WideSlide slide={slide} visible={index === currentSlide} />\n                </Slide>\n              ))}\n            </Slider>\n          )}\n        </CarouselCustomProvider>\n      </CarouselProvider>\n    </div>\n  )\n}\n\nexport default SliderSection\n","import animes from '../localDatabase/animes.js'\nimport normalizeAnime from '../normalizers/normalizeAnime.js'\n\nfunction getPopularAnimes() {\n  return [\n    ...animes,\n    ...animes,\n    ...animes,\n  ].map(normalizeAnime)\n}\n\nexport default getPopularAnimes\n","import ContainerScroller from './ContainerScroller.js'\nimport AnimeBox from './AnimeBox.js'\nimport React, { useEffect, useState } from 'react'\nimport getPopularAnimes from '../localServer/getters/getPopularAnimes.js'\n\nfunction PopularAnimes({title = 'Популярные аниме', ...props}) {\n  const [popularAnimes, setPopularAnimes] = useState([])\n\n  useEffect(() => {\n    setPopularAnimes(getPopularAnimes())\n  }, [])\n\n  return (\n    <div {...props}>\n      <div className=\"container\">\n        <div className='mb-4 d-flex align-items-center'>\n          <h2>{title}</h2>\n        </div>\n      </div>\n      <ContainerScroller className=\"anime_box__row\">\n        {popularAnimes.map((anime, index) => (\n          <AnimeBox key={index} anime={anime} />\n        ))}\n      </ContainerScroller>\n    </div>\n  )\n}\n\nexport default PopularAnimes\n","import React from 'react'\nimport HomeLayout from '../layouts/HomeLayout.js'\nimport SliderSection from '../sections/SliderSection/SliderSection.js'\nimport PopularAnimes from '../components/PopularAnimes.js'\nimport { useTranslation } from 'react-i18next'\n\n\nfunction HomePage() {\n  const { t } = useTranslation()\n\n  return (\n    <HomeLayout stickyTransparent>\n      <SliderSection />\n      <PopularAnimes title={t('popular anime')} className='my-5' />\n      <PopularAnimes title={t('ongoings')} className='my-5' />\n    </HomeLayout>\n  )\n}\n\nexport default HomePage\n","import React from 'react'\nimport Header from '../components/Header.js'\nimport useLayoutClass from '../hooks/useLayoutClass.js'\n\nfunction HomeLayout({ stickyTransparent, children }) {\n  useLayoutClass('home_layout')\n  return (\n    <>\n      <Header stickyTransparent={stickyTransparent} />\n      {children}\n      <footer />\n    </>\n  )\n}\n\nexport default HomeLayout\n"],"sourceRoot":""}